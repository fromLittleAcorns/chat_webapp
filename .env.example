# ============================================
# FastHTML MCP Chat - Environment Configuration
# ============================================
# Copy this to .env and fill in your values
# Different values for development vs production

# ============================================
# Application Settings
# ============================================
ENVIRONMENT=development  # or 'production'
DEBUG=True  # False in production
HOST=0.0.0.0
PORT=5001  # 8000 in production
RELOAD=True  # False in production

# ============================================
# Security
# ============================================
# CRITICAL: Generate a secure key for production!
# Run: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-CHANGE-IN-PRODUCTION

# ============================================
# Database
# ============================================
DATABASE_FOLDER=data
USER_DATABASE_NAME=users.db
CONVERSATIONS_DATABASE_NAME=conversations.db

# ============================================
# MCP Server Configuration
# ============================================
# URL where your MCP HTTP server is running
MCP_SERVER_URL=http://localhost:8000

# Path to MCP server directory (for system instructions)
MCP_SERVER_PATH=../pbt_prodfind

# Path to product database for function calls
# Development example (macOS with iCloud):
# PRODUCT_DB_PATH=/Users/johnri/Library/Mobile Documents/com~apple~CloudDocs/Documents/james/james_data/database/db_for_prod_search.db
# Production example:
# PRODUCT_DB_PATH=/var/data/product_database/db_for_prod_search.db
PRODUCT_DB_PATH=../pbt_prodfind/db_for_prod_search.db

# Anthropic API key for Claude
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ============================================
# Authentication Settings
# ============================================
SESSION_EXPIRY=3600  # Session timeout in seconds (1 hour)
ALLOW_REGISTRATION=True  # Set to False in production for invite-only

# Initial Admin User (for setup_db.py script)
# After first login, change password and optionally remove from .env
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-secure-password
ADMIN_EMAIL=admin@yourdomain.com

# ============================================
# Session Configuration
# ============================================
SESSION_COOKIE=fasthtml_session
MAX_AGE=2592000  # Cookie lifetime in seconds (30 days)
SAME_SITE=lax  # Cookie SameSite policy
HTTPS_ONLY=false  # Set to 'true' in production

# ============================================
# Application Settings
# ============================================
MAX_MESSAGE_LENGTH=10000
MAX_CONVERSATIONS_PER_USER=100
STREAMING_ENABLED=True

# ============================================
# Rate Limiting (Optional)
# ============================================
ENABLE_RATE_LIMITING=False
RATE_LIMIT_REQUESTS=60  # requests per window
RATE_LIMIT_WINDOW=60  # seconds

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
